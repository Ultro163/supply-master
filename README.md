# üì¶ Supply Master

**Supply Master** ‚Äì —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤–∫–∞–º–∏ –∏ —Å–∫–ª–∞–¥—Å–∫–∏–º–∏ –∑–∞–ø–∞—Å–∞–º–∏.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ü—Ä–∏—ë–º–∫–∞ –ø–æ—Å—Ç–∞–≤–æ–∫ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–æ–¥–Ω–∞ –ø–æ—Å—Ç–∞–≤–∫–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–æ–≤ –ø—Ä–æ–¥—É–∫—Ü–∏–∏)
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –ø–æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL –∏ FlayWay –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- GraphQL API ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–∏–±–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–æ—Å—Ç–∞–≤–∫–µ

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Java 21**
- **Spring Boot**
- **Spring Data JPA (Hibernate)**
- **GraphQL**
- **PostgreSQL**
- **Flyway**
- **Lombok**
- **Docker**

# üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—É—Ç–∏: [db_diagram.bmp](db_diagram.bmp)
## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Docker Compose**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–Ω–∏–º–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–≤–æ—é –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env:**
   ```env
   POSTGRES_USER=your_postgres_user
   POSTGRES_PASSWORD=your_postgres_password
   ```
3. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é Maven
   ```sh
   ./mvnw package
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker** –∏ **Docker Compose**.
5. –í –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```sh
   docker-compose up -d
   ```

6. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL.
67. GraphQL API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080/graphiql?path=/graphql`

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ Postman.

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ü–µ–Ω—ã

**POST** `http://localhost:8080/api/v1/prices`

```json
{
  "productId": "d290f1ee-6c54-4b01-90e6-d701748f0851",
  "supplierId": "a3f2c7d4-83b3-4b68-9f88-6d7d7e1f2c57",
  "pricePerKg": 100.50,
  "startDate": "2024-03-01",
  "endDate": "2024-04-01"
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã

**PATCH** `http://localhost:8080/api/v1/prices/{priceId}`

```json
{
  "pricePerKg": 105.75
}
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–∫–∏

**POST** `http://localhost:8080/api/v1/shipments`
Headers:
`supplierId: a3f2c7d4-83b3-4b68-9f88-6d7d7e1f2c57`

```json
{
  "shipmentDate": "2024-03-10",
  "shipmentItems": [
    {
      "productId": "d290f1ee-6c54-4b01-90e6-d701748f0851",
      "weightKg": 500
    }
  ]
}
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ –ø–æ—Å—Ç–∞–≤–∫–∞—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥

**GET** `http://localhost:8080/api/v1/shipments?startDate=2024-03-01&endDate=2024-03-31`

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
    {
        "supplierId": "ed5622f7-c232-4cc2-ba19-6f3a15941561",
        "supplierName": "–°–∞–¥—ã –ö—É–±–∞–Ω–∏",
        "shipments": [
            {
                "productId": "9efbec56-7528-4774-a06f-8f3146a6f281",
                "productName": "–ì—Ä—É—à–∏ –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è",
                "totalWeightKg": 69.60,
                "totalPrice": 4758.55
            },
            {
                "productId": "d03a8938-74ef-4ccf-9807-0e5336a40dbd",
                "productName": "–ì—Ä—É—à–∏ –í–∏–ª—å—è–º—Å",
                "totalWeightKg": 69.60,
                "totalPrice": 6408.07
            },
            {
                "productId": "e27576b2-afeb-4518-aa93-655040e92da9",
                "productName": "–Ø–±–ª–æ–∫–∏ –ì—Ä–µ–Ω–Ω–∏ –°–º–∏—Ç",
                "totalWeightKg": 69.60,
                "totalPrice": 6959.30
            }
        ]
    }
]